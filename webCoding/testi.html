<script> 
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('select');
    var instances = M.FormSelect.init(elems);
    document.getElementById("btn").addEventListener("click", calculationExec);
  });

  function calculationExec() {
 
    var userInput = {};
   
    // Housing
    //userInput.azimuth = document.getElementById("azimuth").value;
    //userInput.inclination = document.getElementById("inclination").value;
    //userInput.lon = document.getElementById("lon").value;
    //userInput.lat = document.getElementById("lat").value;
    
    //userInput.chart = document.getElementById("chart").value;
    google.script.run.withSuccessHandler(parseReturnData).userClicked();

  }

function parseReturnData(argReturnedArray) {
Logger.log("parseReturnData alkaa tästä");
  //To Do - code to inject the HTML
  var ctx = document.getElementById('chart').getContext('2d');
  //var data= JSON.parse(argReturnedArray);
  var data= [0,1,2,3,4,5,6,7,8,9,10,11];
  Logger.log(data);

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
            datasets: [{
                data: data,
                label: 'kWh/kWp',
                backgroundColor:'rgba(255, 159, 255, 0.8)',
                borderColor: 'rgba(255, 159, 255, 1)',
                borderWidth: 1
            }]
        },
        options: {
          scales: {
              yAxes: [{
                  ticks: {
                      beginAtZero: true
                  }
              }]
          }
      }
  
    });

    myChart.update();
}



</script>

